---
ID: 3781
post_title: >
  数据结构【浙江大学】（第7节）整理
post_name: '%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e3%80%90%e6%b5%99%e6%b1%9f%e5%a4%a7%e5%ad%a6%e3%80%91%ef%bc%88%e7%ac%ac7%e8%8a%82%ef%bc%89%e6%95%b4%e7%90%86'
author: 小奥
post_date: 2018-05-09 20:48:36
layout: post
link: >
  http://www.yushuai.me/2018/05/09/3781.html
published: true
tags:
  - 数据结构
categories:
  - Data Structure
---
<h1 style="font-size: 32px; font-weight: bold; border-bottom: 2px solid rgb(204, 204, 204); padding: 0px 4px 0px 0px; text-align: left; margin: 0px 0px 10px;">第七节：最短路径问题</h1><p><br/></p><p><strong>7.1 概述</strong></p><p style="text-indent:28px">最短路径问题的抽象：</p><p style="text-indent:28px">在网络中，求两个不同顶点之间的所有路径中，边的权值之和最小的那一条路径。这条路径就是两点之间的最短路径。第一个顶点称为<strong>源点</strong>，最后一个顶点为<strong>终点</strong>。</p><p style="text-indent:28px">问题分类：</p><p style="text-indent:28px">（1）单源最短路径问题：从某固定源点触发，求其到所有其他顶点的最短路径。又分为（有无向）有权图和（有无向）无权图两种。</p><p style="text-indent:28px">（2）多源最短路径问题：求任意两顶点间的最短路径。</p><p><strong>7.2 无权图的单源最短路</strong></p><p style="text-indent:28px">按照递增（非递减）的顺序找出到各个顶点的最短路。例如图1：</p><p style="text-align:center">&nbsp;<img src="/wp-content/uploads/image/20180509/1525870085514099.jpg" title="1525870085514099.jpg" alt="1.jpg"/></p><p style="text-align:center">图1</p><p style="text-indent:28px">我们以v3作为源点，与v3距离为0的点为v3；与v3距离为1的点为v1和v6；与v3距离为2的点（也就是距离v1为1，距离v6为1）的点为v2和v4；距离v3距离为3的点（也就是距离v2为1，距离v4为1）的点为v5和v7。至此，距离各点距离v3都已经清楚。</p><p style="text-indent:28px">这个算法类似于BFS算法。但是与BFS不同的是，我们不需要定义一个已经访问的变量，需要重新定义一个数组为</p><p style="text-indent:28px">（1）dist[W]=S到W的最短距离。初始情况下，默认距离可以为-1、负无穷或者正无穷。</p><p style="text-indent:28px">（2）dist[S]=0</p><p style="text-indent:28px">（3）path[W]=S到W的路上经过的某顶点。</p><p style="text-indent:28px">代码如下：</p><pre class="brush:cpp;toolbar:false">void&nbsp;Unweighted(Vertex&nbsp;S)
{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enqueue(S,Q);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(!IsEmpty(Q)){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;=&nbsp;Dequeue(Q);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(V的每个邻接点W)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(dist[W]==-1){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dist[W]=dist[V]+1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path[W]=V;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enqueue(W,Q);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p style="text-indent:28px">path这个数组的作用就是记录从S到W路径中所经过的点，这个算法就是利用刚刚讲的那个每次基于前面那个点加1来得到下面一个点的这个方法。</p><p style="text-indent:28px">时间复杂度为<strong>T=O(|V|+|E|)</strong>。看这个代码中while的部分，由于它都Dequeue和Enqueue了一次，所以总的次数为2V；又由于for循环遍历了V的每个邻接点W，个数为E，所以时间复杂度是O(|V|+|E|)。</p><p><strong>7.3 无权图的单源最短路示例</strong></p><p style="text-indent:28px">这里，我们以图1中的图来做示例，仍将v3看做是源点，因此，dist和path做以下初始化：</p><table><tbody><tr class="firstRow"><td width="69" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px;"><p>下标W</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>5</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>6</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>7</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>dist</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">0</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>path</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td></tr></tbody></table><p style="text-indent:28px">调用Unweighted(3)，然后将v3入队列。然后while循环，判断队列不为空，让v3出队列给V。然后开始for循环，对于V（即v3）的每个邻接点W，如果这个点没有访问过（即该点的dist[W]==-1），则将该点的dist赋值为前一点的dist+1（刚开始的时候前一点的dist为0），然后把前一点（刚开始是v3）赋值给path的第w个值，然后把下一个点压入队列。然后把v1压出，开始for循环，对于V（即v1）的每个邻接点，再进行上面的操作，如此循环直到最后。到最后的时候，dist和path数值为：</p><table><tbody><tr class="firstRow"><td width="69" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px;"><p>下标W</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>5</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>6</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>7</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>dist</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">0</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>path</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td></tr></tbody></table><p style="text-indent:28px">具体代码：</p><pre class="brush:cpp;toolbar:false">/*&nbsp;邻接表存储&nbsp;-&nbsp;无权图的单源最短路算法&nbsp;*/
&nbsp;
/*&nbsp;dist[]和path[]全部初始化为-1&nbsp;*/
void&nbsp;Unweighted&nbsp;(&nbsp;LGraph&nbsp;Graph,&nbsp;int&nbsp;dist[],&nbsp;int&nbsp;path[],&nbsp;Vertex&nbsp;S&nbsp;)
{
&nbsp;&nbsp;&nbsp;&nbsp;Queue&nbsp;Q;
&nbsp;&nbsp;&nbsp;&nbsp;Vertex&nbsp;V;
&nbsp;&nbsp;&nbsp;&nbsp;PtrToAdjVNode&nbsp;W;
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Q&nbsp;=&nbsp;CreateQueue(&nbsp;Graph-&gt;Nv&nbsp;);&nbsp;/*&nbsp;创建空队列,&nbsp;MaxSize为外部定义的常数&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;dist[S]&nbsp;=&nbsp;0;&nbsp;/*&nbsp;初始化源点&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;AddQ&nbsp;(Q,&nbsp;S);
&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;while(&nbsp;!IsEmpty(Q)&nbsp;){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;=&nbsp;DeleteQ(Q);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(&nbsp;W=Graph-&gt;G[V].FirstEdge;&nbsp;W;&nbsp;W=W-&gt;Next&nbsp;)&nbsp;/*&nbsp;对V的每个邻接点W-&gt;AdjV&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;dist[W-&gt;AdjV]==-1&nbsp;)&nbsp;{&nbsp;/*&nbsp;若W-&gt;AdjV未被访问过&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dist[W-&gt;AdjV]&nbsp;=&nbsp;dist[V]+1;&nbsp;/*&nbsp;W-&gt;AdjV到S的距离更新&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path[W-&gt;AdjV]&nbsp;=&nbsp;V;&nbsp;/*&nbsp;将V记录在S到W-&gt;AdjV的路径上&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AddQ(Q,&nbsp;W-&gt;AdjV);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;/*&nbsp;while结束*/
}</pre><p><strong>7.4 有权图的单源最短路</strong></p><p style="text-indent:28px">仍然是按照递增的顺序找出到各个顶点的最短路。解决这个问题的经典算法就是：<strong>Dijkstra算法</strong>。</p><p style="text-indent:28px">（1）Dijkstra算法</p><p style="text-indent:28px">①令S={源点s+已经确定了最短路径的顶点vi}</p><p style="text-indent:28px">②对任一未收录的顶点v，定义dist[v]为s到v的最短路径长度，但该路径<strong>仅经过S中的顶点</strong>，即路径{s-&gt;(vi∈S)-&gt;v}的最小长度。</p><p style="text-indent:28px">若路径是按照递增（非递减）的顺序生成的，则：</p><p style="text-indent:28px">真正的最短路径必须只经过s中的顶点；</p><p style="text-indent:28px">每次从未收录的顶点中选一个dist最小的收录（贪心算法）</p><p style="text-indent:28px">增加一个v进入S，可能影响另外一个w的dist值（<strong>若使w的dist值缩小，则v必定在s到w的路径上，并且v到w有一条边</strong>），dist[w]=min{dist[w],dist[v]+&lt;v,w&gt;的权重}。代码如下：</p><pre class="brush:cpp;toolbar:false">void&nbsp;Dijkstra(Vertex&nbsp;s)
{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(1){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V=未收录顶点中dist最小者;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(这样的V不存在)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collected[V]&nbsp;=&nbsp;true;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(V的每个邻接点W）
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(collected[W]&nbsp;==&nbsp;false)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(dist[V]+E&lt;k,w&gt;&nbsp;&lt;&nbsp;dist[W])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dist[W]&nbsp;=&nbsp;dist[V]&nbsp;+E&lt;v,w&gt;;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path[W]&nbsp;=V;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p><strong><span style="color:red">注意：该算法不能解决有负边的情况。</span></strong></p><p style="text-indent:28px">若只看这段伪码，我们无法判断其复杂度，这主要是因为<strong><span style="color:#7030A0">未收录顶点中dist最小者</span></strong>的这个算法的复杂度我们无法判断。这个算法有以下几种：</p><p style="text-indent:28px">①直接扫描所有未收录顶点-O(|V|)，则<strong>T=O(|V|<sup>2</sup>+|E|)</strong>。<strong><span style="color:#4472C4">对稠密图效果好</span></strong>。</p><p style="text-indent:28px">②将dist存在最小堆中-O(log|V|)。更新dist[w]的值-O(log|V|)。总体复杂度为<strong>T</strong>=O(|V|log|V|+|E|log|V|)<strong>=O(|E|log|V|)</strong>。<strong><span style="color:#4472C4">对稀疏图效果好</span></strong>。</p><p><strong>7.5 有权图的单源最短路示例</strong></p><p style="text-indent:28px">图如图2所示。</p><p style="text-align:center"><img src="/wp-content/uploads/image/20180509/1525870054125756.jpg" title="1525870054125756.jpg" alt="2.jpg"/>&nbsp;</p><p style="text-align:center">图2</p><p style="text-indent:28px">这里我们以v1位源点。dist和path初始化结果如下所示：</p><table><tbody><tr class="firstRow"><td width="69" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px;"><p>下标W</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>5</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>6</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>7</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>dist</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">0</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">2</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>无穷</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>无穷</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>无穷</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>无穷</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>path</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td></tr></tbody></table><p style="text-indent:28px">当首先访问v4的时候，结果如下</p><table><tbody><tr class="firstRow"><td width="69" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px;"><p>下标W</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>5</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>6</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>7</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>dist</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">0</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">2</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>9</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>5</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>path</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td></tr></tbody></table><p style="text-indent:28px">然后看v2，由于v4已经访问过了，因此接下来看v5，由于到v5的距离为12，大于前面的距离，因此跳出循环。由于v2的邻接点只有v4和和v5，因此跳出v2。</p><p style="text-indent:28px">接下来看v3和v5距离一样，那么就先看v3。v3的邻接点有v1和v6，v1已经被访问过，所以无视，直接看v6，此时可以看出v3到v6距离为5，所以总距离为8，小于原来的9。因此更新dis[6]=9，path[6]=3。然后看v5，v5只有一个邻接点，就是v7，这样经过v5到v7的距离为9，大于原来的距离，不更新。</p><p style="text-indent:28px">在v6和v7中，v7的距离更短一点，所以先看v7。v7的邻接点只有v6。若经过v7访问v6的距离为6，小于原来的8，更新dis[6]=6，path[6]=7。</p><p style="text-indent:28px">由于v6没有任何邻接点，所以v6直接不做判断。最后更新的结果如下：</p><table><tbody><tr class="firstRow"><td width="69" valign="top" style="border-width: 1px; border-color: windowtext; padding: 0px 7px;"><p>下标W</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>1</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>2</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>5</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>6</p></td><td width="69" valign="top" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-top-color: windowtext; border-right-color: windowtext; border-bottom-color: windowtext; border-left: none; padding: 0px 7px;"><p>7</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>dist</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">0</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">2</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>3</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; background: rgb(0, 112, 192); padding: 0px 7px;"><p><strong><span style="color:white">6</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>5</p></td></tr><tr><td width="69" valign="top" style="border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-right-color: windowtext; border-bottom-color: windowtext; border-left-color: windowtext; border-top: none; padding: 0px 7px;"><p>path</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>-1</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p><strong><span style="color:red">1</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; background: rgb(0, 112, 192); padding: 0px 7px;"><p><strong><span style="color:white">7</span></strong></p></td><td width="69" valign="top" style="border-top: none; border-left: none; border-bottom-width: 1px; border-bottom-color: windowtext; border-right-width: 1px; border-right-color: windowtext; padding: 0px 7px;"><p>4</p></td></tr></tbody></table><p>&nbsp;</p><p><strong>7.6 多源最短路算法</strong></p><p style="text-indent:28px">方法1：直接将单源最短路算法调用|V|遍，T=O(|V|<sup>3</sup>+|E|×|V|)，适合稀疏图。</p><p style="text-indent:28px">方法2：<strong>Floyd算法</strong>，复杂度T=O(|V|<sup>3</sup>)，更适合稠密图。</p><p style="text-indent:28px">（1）Floyd算法</p><p style="text-indent:28px">①D<sup>k</sup>[i][j]=路径{i-&gt;{l&lt;=k}-&gt;j}的最小长度。</p><p style="text-indent:28px">②D<sup>0</sup>,D<sup>1</sup>,…,D<sup>[V]-1</sup>[i][j]即给出了i到j的真正最短距离。</p><p style="text-indent:28px">③最初的D<sup>-1</sup>是<strong>带权的邻接矩阵，对角元素是0</strong>。</p><p style="text-indent:28px">④若i和j之间没有直接的边，D[i][j]定义为<strong>正无穷</strong>。</p><p style="text-indent:28px">⑤当D<sup>k-1</sup>已经完成，递推到D<sup>k</sup>时：</p><p style="text-indent:28px">或者k<span style="font-family:&#39;MS Gothic&#39;">∉</span>最短路径{i-&gt;{l&lt;=k}-&gt;j}，则D<sup>k</sup>=D<sup>k-1</sup>；</p><p style="text-indent:28px">或者k∈{i-&gt;{l&lt;=k}-&gt;j}，则该路径必定<strong><span style="color:#4472C4">由两段最短距离组成</span></strong>：D<sup>k</sup> [i][j]= D<sup>k-1</sup>[i][k]+ D<sup>k-1</sup>[k][j]。</p><p style="text-indent:28px">源代码为：</p><pre class="brush:cpp;toolbar:false">void&nbsp;Floyd()
{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;N;i++)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(j=0lj&lt;N;j++){
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D[i][j]=G[i][j];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path[i][j]=-1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(k=0;k&lt;N;k++)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;N;i++)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(D[i][k]+D[k][j]&lt;D[i][j])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D[i][j]=D[i][k]+D[k][j];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path[i][j]=k;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
}</pre><p><br/></p>